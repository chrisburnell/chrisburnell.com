{% if page.banner or page.mf-photo or page.banner_mobile or page.mf-photo_mobile %}
    {%- assign banners = page.mf-photo | default: page.banner | default: site.emptyArray -%}
    {%- assign banners_mobile = page.mf-photo_mobile | default: page.banner_mobile | default: site.emptyArray -%}
    <picture class="u-photo">
        {% if banners != empty and banners_mobile != empty %}
            <source media="(min-width: 501px)"
                    sizes="calc(100vw - 18.375em)"
                    srcset="{% for banner in banners %}/images/banners/{{ banner | replace: '.jpg', '.webp' | replace: '.jpeg', '.webp' | replace: '.png', '.webp' }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}"
                    type="image/webp">
            <source sizes="calc(100vw - 2.5em)"
                    srcset="{% for banner in banners_mobile %}/images/banners/{{ banner | replace: '.jpg', '.webp' | replace: '.jpeg', '.webp' | replace: '.png', '.webp' }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}"
                    type="image/webp">
            <source media="(min-width: 501px)"
                    sizes="calc(100vw - 18.375em)"
                    srcset="{% for banner in banners %}/images/banners/{{ banner }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}">
            <img    alt="" class="banner  u-photo" role="presentation"
                    src="/images/banners/{{ banners_mobile | last }}"
                    sizes="calc(100vw - 2.5em)"
                    srcset="{% for banner in banners_mobile %}/images/banners/{{ banner }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}">
        {% elsif banners != empty %}
            <source srcset="{% for banner in banners %}/images/banners/{{ banner | replace: '.jpg', '.webp' | replace: '.jpeg', '.webp' | replace: '.png', '.webp' }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}"
                    type="image/webp">
            <img    alt="" class="banner  u-photo" role="presentation"
                    src="/images/banners/{{ banners | last }}"
                    srcset="{% for banner in banners %}/images/banners/{{ banner }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}">
        {% elsif banners_mobile != empty %}
            <source srcset="{% for banner in banners_mobile %}/images/banners/{{ banner | replace: '.jpg', '.webp' | replace: '.jpeg', '.webp' | replace: '.png', '.webp' }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}"
                    type="image/webp">
            <img    alt="" class="banner  u-photo" role="presentation"
                    src="/images/banners/{{ banners_mobile | last }}"
                    srcset="{% for banner in banners_mobile %}/images/banners/{{ banner }} {% if banner contains '@' %}{{ banner | split: '@' | last | split: '.' | first }}{% else %}1x{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}">
        {% endif %}
    </picture>
{% endif %}
