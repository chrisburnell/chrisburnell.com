<!DOCTYPE html>
<html lang="{{ site.locale }}" class="{% if theme %}{{ theme }}  {% endif %}no-js" profile="http://gmpg.org/xfn/11">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

		<title>{% if page.url != '/' %}{{ title | default(meta_title) | striptags | safe }} · {% endif %}{{ site.title }}</title>

		{# Critical JS -#}
		{% include 'js-critical.njk' %}

		{# All CSS -#}
		{% include 'css.njk' %}

		<link rel="preload" href="/fonts/proxima-vara-subset.woff2" as="font" type="font/woff2" crossorigin>

		<meta name="view-transition" content="same-origin">

		{% if eleventy.env.runMode === 'build' -%}
		<link rel="icon" href="/images/favicon.ico" sizes="16x16 32x32 48x48 64x64">
		<link rel="icon" href="/images/raven.svg" type="image/svg+xml">
		<link rel="icon" href="/images/favicon-64.png">
		<link rel="apple-touch-icon" href="/images/favicon-180.png">
		<link rel="apple-touch-icon-precomposed" href="/images/favicon-180.png">
		<link rel="msapplication-square310x310logo" href="/images/favicon-310.png">
		{%- else -%}
		<link rel="icon" href="/images/favicon-bw.ico" sizes="16x16 32x32 48x48 64x64">
		<link rel="icon" href="/images/favicon-64-bw.png">
		<link rel="apple-touch-icon" href="/images/favicon-180-bw.png">
		<link rel="apple-touch-icon-precomposed" href="/images/favicon-180-bw.png">
		<link rel="msapplication-square310x310logo" href="/images/favicon-310-bw.png">
		{%- endif %}

		<link rel="self" href="{{ site.url + '/feed.xml' }}">
		<link rel="alternate" type="application/rss+xml" title="Latest Posts Feed" href="{{ site.url + '/feed.xml' }}">
		<link rel="alternate" type="application/rss+xml" title="Writing Feed" href="{{ site.url + '/writing.xml' }}">
		<link rel="pingback" href="https://webmention.io/{{ site.url | getHost }}/xmlrpc">
		<link rel="webmention" href="https://webmention.io/{{ site.url | getHost }}/webmention">
		<link rel="authorization_endpoint" href="{{ site.urls.indieauth_endpoint }}">
		<link rel="token_endpoint" href="{{ site.urls.indieauth_token }}">
		<link rel="micropub" href="{{ site.urls.micropub }}">
		<link rel="openid.delegate" href="{{ site.url }}" />
		<link rel="openid.server" href="{{ site.urls.openid }}" />

		<link rel="author" href="/humans.txt">
		<link rel="manifest" href="/manifest.json">

		<meta name="author" content="{{ author.name }}">
		<meta name="description" content="{{ meta_description | safe }}">
		<meta name="generator" content="{{ eleventy.generator }}">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">

		<meta name="theme-color" content="{{ designTokens['colors-hex'] | keyValue('raven') }}">
		<meta name="supported-color-schemes" content="light dark">

		{% if (tags and 'httpstatus' in tags) or (noindex and nofollow) -%}
		<meta name="robots" content="noindex,nofollow">
		{%- else -%}
		{% if noindex -%}
		<meta name="robots" content="noindex">
		{% elif nofollow -%}
		<meta name="robots" content="nofollow">
		{% endif -%}
		<!-- The URL -->
		<link rel="canonical" href="{{ canonical }}">
		{% if previous_post -%}
		<link rel="prev" href="{{ site.url + previous_post.url }}">
		{%- endif %}
		{% if next_post -%}
		<link rel="next" href="{{ site.url + next_post.url }}">
		{%- endif %}

		<!-- OpenGraph Microdata -->
		{% if mf_root == 'review' -%}
		<meta property="og:type" content="review">
		{%- elif layout == 'post' -%}
		<meta property="og:type" content="article">
		{%- elif '/about' in page.url -%}
		<meta property="og:type" content="profile">
		{%- else -%}
		<meta property="og:type" content="website">
		{%- endif %}
		<meta property="og:url" content="{{ canonical }}">
		<meta property="og:title" content="{{ meta_title | safe }}" data-pagefind-meta="image_alt[content]">
		<meta property="og:description" content="{{ meta_description | safe }}">
		<meta property="og:locale" content="{{ site.locale }}">
		<meta property="og:site_name" content="{{ site.title }}">
		{% if eleventy.env.runMode !== 'build' or og_image or banner or cover or photo or not 'post' in tags -%}
			<meta property="og:image" content="{{ meta_image }}" data-pagefind-meta="image[content]">
		{%- elif title -%}
			<meta property="og:image" content="{{ meta_image }}" data-pagefind-meta="image[content]">
		{%- else -%}
			<meta property="og:image" content="{% ogImage './eleventy/layouts/og-image.og.njk', { title: meta_title } %}" data-pagefind-meta="image[content]">
		{%- endif %}

		{% if layout == 'post' -%}
		<meta property="article:published_time" content="{{ date | friendlyDate | safe }}">
		{% if updated or end -%}
		<meta property="article:modified_time" content="{{ updated | default(end) | friendlyDate | safe }}">
		{%- endif %}
		<meta property="article:author" content="{{ author.name }}">
		{% for tag in tags | categoryFilter | tagFilter %}
		<meta property="article:tag" content="{{ tag }}">
		{% endfor %}
		{%- elif '/about' in page.url -%}
		<meta property="profile:first_name" content="{{ author.firstname }}">
		<meta property="profile:last_name" content="{{ author.lastname }}">
		<meta property="profile:username" content="{{ author.shortname }}">
		{%- endif %}

		{% if eleventy.env.runMode === 'build' and site.monetization and monetization != false -%}
		<meta name="monetization" content="{{ site.monetization }}">
		{%- endif %}
		{%- endif %}{# end non-httpstatus #}
	</head>
	<body>
		<a href="#content" class=" [ skip-link  button ] [ visually-hidden ] ">Skip to main content</a>

		<header class=" [ header ] ">
			<div class=" [ wrap ] ">
				<a href="/" rel="home" class=" [ logo ] [ canada ] " aria-label="{{ site.title }}">
					<img src="{{ site.logo }}" alt="raven logo" title="Go to Home" width="120" height="120" aria-hidden="true">
				</a>
				<nav class=" [ navigation ] " aria-label="Website">
					<ol class=" [ navigation__list ] ">
						{% for link in navigation %}
							{% if link.header %}
								<li>
									<a href="{{ link.url }}"{% if page.url == link.url %} aria-current="page"{% endif %}>{{ link.title | safe }}</a>
								</li>
							{% endif %}
						{% endfor %}
					</ol>
					<button class=" [ anchor ] [ popover-settings-button ] [ requires-js ] " popovertarget="popover-settings" title="Open Settings">
						<svg width="24" height="24" aria-hidden="true" focusable="false"><use href="#svg--cog"></use></svg>
					</button>
					<button class=" [ anchor ] [ popover-navigation-button ] [ requires-js ] " popovertarget="popover-navigation" title="Open Navigation">
						<svg width="24" height="24" aria-hidden="true" focusable="false"><use href="#svg--hamburger"></use></svg>
					</button>
				</nav>
			</div>
		</header>

		<div id="popover-settings" class=" [ popover-settings ] [ flow ] [ gamma ] " popover>
			{%- include 'theme-selector.njk' -%}
			<button id="sounds-toggle" class=" [ anchor ] [ no-wrap ] [ js-sounds-toggle ] ">
				<c-emoji><svg width="24" height="24" aria-hidden="true" focusable="false" style="fill: var(--color-raven);"><use href="#svg--sound-off"></use></svg></c-emoji><span class=" [ js-sounds-status ] ">Enable sounds</span>
			</button>
		</div>

		<div id="popover-navigation" class=" [ popover-navigation ] [ flow ] [ gamma ] " popover>
			<ol class=" [ navigation__list ] ">
				{% for link in navigation %}
					{% if link.header %}
						<li>
							<a href="{{ link.url }}"{% if page.url == link.url %} aria-current="page"{% endif %}>{{ link.title | safe }}</a>
						</li>
					{% endif %}
				{% endfor %}
			</ol>
		</div>

		<main class=" [ main ] [ flow ] "{% if not excludeFromSearch and not sitemap.exclude and not draft and published !== false and not 'ignore' in tags %} data-pagefind-body{% endif %}>
			{{- content | safe -}}
		</main>

		<footer class=" [ footer ] ">
			<div class=" [ wrap ] [ footer__grid ] ">
				{% include 'author.njk' %}
				<ul class=" [ cluster ] [ footer__navigation ] [ strong ] ">
					{%- for link in navigation -%}
						{%- if link.footer -%}
							<li><a href="{{ link.url }}"{% if page.url == link.url %} aria-current="page"{% endif %}>{{ link.title | safe }}</a></li>
						{%- endif -%}
					{%- endfor -%}
				</ul>
				<ul class=" [ cluster ] [ footer__navigation ] ">
					<li class=" [ requires-js ] ">
						<button class=" [ anchor ] " popovertarget="popover-settings"><c-emoji><svg width="16" height="16" aria-hidden="true" focusable="false" style="fill: var(--color-raven);"><use href="#svg--cog"></use></svg></c-emoji>Open Settings</button>
					</li><li><a href="https://github.com/{{ author.github }}/{{ site.repository }}/tree/{{ site.branch }}/{{ page.inputPath }}" id="edit"><c-emoji><svg width="16" height="16" aria-hidden="true" focusable="false" style="fill: var(--color-raven);"><use href="#svg--edit"></use></svg></c-emoji>Edit this page</a></li><li>{% include 'share.njk' %}</li>
				</ul>
				<ul class=" [ cluster ] [ footer__navigation ] ">
					<li><a href="/license/" id="copyright" rel="license">© {{ site.established }}–{{ global.nowISO | friendlyDate('yyyy') }} <span class=" [ canada ] ">{{ author.name }}</span></a></li>
					{%- for item in socials -%}
						{%- if not item.hidden and item.primary -%}
							{%- set url = item.url -%}
							<li>{% if item.key %}{% set url = url + author[item.key] %}{% endif %}<a{% if item.mf_property %} class=" [ p-{{ item.mf_property }} ] "{% endif %} href="{{ url }}" rel="me"><c-emoji><svg width="24" height="24" aria-hidden="true" focusable="false"{% if item.fill %} style="{% if item.fill %}fill: {{ item.fill }};{% endif %}"{% endif %}>{% if item.defs %}{{ item.defs | safe }}{% endif %}<use href="#svg--{{ item.title | lower }}"></use></svg></c-emoji>{{ item.title }}</a></li>
						{%- endif -%}
					{%- endfor -%}
				</ul>
				{% include 'webrings.njk' %}
				{% if speedlify[canonical] -%}
					<p class=" [ speedlify ] "><a href="{{ site.urls.speedlify }}/{{ site.speedlify }}/#site-{{ speedlify[canonical].hash }}" class="[ speedlify-anchor ] " title="Link to this page's Speedlify Score"><c-speedlify-score hash="{{ speedlify[canonical].hash }}" score weight requests></c-speedlify-score></a></p>
				{%- endif %}
				{%- for item in socials -%}
					{%- if not item.hidden and not item.primary -%}
						<data{% if item.mf_property %} class=" [ p-{{ item.mf_property }} ] "{% endif %} value="{{ author[item.key] | default(item.value) | default(item.url) }}" hidden>{{ item.title }}</data>
					{%- endif -%}
				{%- endfor -%}
			</div>
		</footer>

		{# SVG Sprites -#}
		{% set svg %}{% include '../../../images/sprites.svg' %}{% endset -%}
		{{ svg | replace('<?xml version="1.0" encoding="utf-8"?>', '') | replace('<svg', '<svg display="none" aria-hidden="true"') | safe }}

		{% if eleventy.env.runMode === 'build' and not noServiceWorker -%}
		{# ServiceWorker -#}
		<script>{% include '../../js/navigator.js' %}</script>
		{%- endif %}

		{# Deferred JS -#}
		{% include 'js-defer.njk' %}
	</body>
</html>
