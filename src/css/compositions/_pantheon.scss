////
/// Pantheon
/// @group compositions
///
/// --indent-size (1fr OR 0)
///     Defines the inline-size of the aside.
/// --indent-gap (var(--size-gap) OR 0)
///     Defines the gap between the indent and content column.
/// --columns (6 Ã— 1fr)
///     Defines how many sub-columns should make up the content column.
/// --outdent-gap (var(--size-gap) OR 0)
///     Defines the gap between the content and outdent column.
/// --outdent-size (1fr OR 0)
///     Defines the inline-size of the outdent.
////

.pantheon {
	display: grid;
	align-items: start;
	grid-template-rows:
		[breadcrumbs-start]
		auto
		[breadcrumbs-end context-start]
		auto
		[context-end title-start]
		auto
		[title-end description-start]
		auto
		[description-end toc-start]
		auto
		[toc-end content-start]
		auto
		[content-end responses-start]
		auto
		[responses-end meta-start]
		auto
		[meta-end browse-start]
		auto
		[browse-end];
	grid-template-columns:
		[indent-start]
		var(--indent-size, 0)
		[indent-end]
		var(--indent-gap, 0)
		[content-start]
		repeat(var(--columns, 6), 1fr)
		[content-end]
		var(--outdent-gap, 0)
		[outdent-start]
		var(--outdent-size, 0)
		[outdent-end];

	&:not(.full) {
		// Only show indent & outdent above medium on non-full-inline-size
		// pages. This effeectively shortens the inline-size of the content.
		@include cqi(null, "medium") {
			--indent-size: 1fr;
			--indent-gap: var(--size-gap);
			--outdent-gap: var(--size-gap);
			--outdent-size: 1fr;
		}
	}

	&:has(.toc) {
		@include cqi(null, "large") {
			@media screen {
				--indent-size: 18rem;
				--outdent-gap: 0;
				--outdent-size: 0;
			}
		}
	}

	@media print {
		display: block;
	}
}

.breadcrumbs,
.context,
.title,
.meta,
.browse {
	grid-column: indent / outdent;
}

.description,
.content,
.responses {
	grid-column: content;
}

.breadcrumbs {
	grid-row: breadcrumbs;
}

.context {
	grid-row: context;
}

.title {
	grid-row: title;
}

.description {
	grid-row: description;
}

.content {
	grid-row: content;
}

.responses {
	grid-row: responses;
}

.meta {
	grid-row: meta;
}

.browse {
	grid-row: browse;
}

.toc {
	grid-column: content;
	grid-row: toc;

	@include cqi(null, "large") {
		grid-column: indent;
		grid-row: content / responses;
	}
}
