////
/// Mixins
/// @group abstracts
////

///
/// Visually hide an element properly.
///
@mixin --visually-hidden() {
	inline-size: 1px !important;
	block-size: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	border: 0 !important;
	overflow: hidden !important;
	position: absolute !important;
	white-space: nowrap !important;
	clip: rect(0 0 0 0) !important;
	clip-path: inset(100%) !important;
}

///
/// Iralicise words..
///
@mixin --italic() {
	font-style: italic;
	font-synthesis: none;
	font-variation-settings: "ital" 125;
}

///
/// Hyphenate words.
///
@mixin --hyphenate() {
	hyphens: auto;
	hyphenate-limit-chars: 6 3 3;
	hyphenate-limit-lines: 2;
	hyphenate-limit-last: always;
	hyphenate-limit-zone: 8%;
}

///
/// Make something non-selectable.
///
@mixin --non-selectable() {
	user-select: none;
	-webkit-touch-callout: default;
	-webkit-touch-callout: none;
}

///
/// Make something non-interactive.
///
@mixin --non-interactive() {
	@apply non-selectable;
	pointer-events: none;
}

///
/// Setup Monochrome Color CSS Variables
///
@mixin --setup-monochrome-colors() {
	--color-snowy: oklch(var(--snowy-lightness) var(--monochrome-chroma) var(--monochrome-hue));
	--color-thunder: oklch(var(--thunder-lightness) var(--monochrome-chroma) var(--monochrome-hue));
	--color-mineshaft: color-mix(in oklab, var(--color-snowy), var(--color-thunder) 83.6%);
	--color-kaiser: color-mix(in oklab, var(--color-snowy), var(--color-thunder) 66.6%);
	--color-nickel: color-mix(in oklab, var(--color-snowy), var(--color-thunder) 51.8%);
	--color-yeti: color-mix(in oklab, var(--color-snowy), var(--color-thunder) 10.2%);
}

///
/// Setup Raven Color CSS Variables
///
@mixin --setup-raven-colors() {
	--color-raven: oklch(var(--raven-lightness) var(--raven-chroma) var(--raven-hue));
	--color-lynx: color-mix(in oklab, var(--color-raven), var(--color-thunder) 75%);
	--color-wolf: color-mix(in oklab, var(--color-raven), var(--color-thunder) 54%);
	--color-bowhead: color-mix(in oklab, var(--color-raven), var(--color-thunder) 33%);
	--color-highland: color-mix(in oklab, var(--color-raven), var(--color-snowy) 33%);
	--color-coyote: color-mix(in oklab, var(--color-raven), var(--color-snowy) 54%);
	--color-bear: color-mix(in oklab, var(--color-raven), var(--color-snowy) 75%);
}

///
// Styles for Dark Color Scheme
///
@mixin --dark-styles() {
	& select {
		background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='50' fill='%23dddddd'><polygon points='0,0 100,0 50,50'/></svg>");
	}
}

///
/// Target Media Queries which should nullify animations/transitions/etc.
///
@mixin --reduced-motion {
	@media (prefers-reduced-motion: reduce) or (update: none) or (update: slow) {
		@contents;
	}
}

///
/// Target Media Queries which allow animations/transitions/etc.
///
@mixin --allowed-motion {
	@media (prefers-reduced-motion: no-preference) and (update: fast) {
		@contents;
	}
}

///
/// Nest an inline-size-based container query.
///
@mixin --inline-above(--name <custom-ident>, --min <length>, @contents) {
	@container env(--name) (inline-size > env(--min)) {
		@contents;
	}
}
@mixin --inline-below(--name <custom-ident>, --max <length>, @contents) {
	@container env(--name) (inline-size <= env(--max)) {
		@contents;
	}
}
@mixin --inline-between(--name <custom-ident>, --min <length>, --max <length>, @contents) {
	@container env(--name) (env(--min) < inline-size <= env(--max)) {
		@contents;
	}
}

///
/// Nest an block-size-based container query.
///
@mixin --block-above(--name <custom-ident>, --min <length>, @contents) {
	@container env(--name) (block-size > env(--min)) {
		@contents;
	}
}
@mixin --block-below(--name <custom-ident>, --max <length>, @contents) {
	@container env(--name) (block-size <= env(--max)) {
		@contents;
	}
}
@mixin --block-between(--name <custom-ident>, --min <length>, --max <length>, @contents) {
	@container env(--name) (env(--min) < block-size <= env(--max)) {
		@contents;
	}
}
